<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Main project</title>
  <style>
    b { cursor: pointer; }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mobx/5.15.7/mobx.umd.js"></script>
  <!-- <script>
  //   window.addEventListener('error',function (...args) {
  //     console.log('mainApp: normal error',args)
  //   });

  //   window.addEventListener('unhandledrejection',function (...args) {
  //     console.log('mainApp: unhandledrejection error',args);
  //   });
  //   window.onerror = function (...args) {
  //     console.log('mainApp onerror: unhandledrejection error',args);
  //   }
  // </script> -->
  <script>
    // setTimeout(()=>{
    //   const xhr = new XMLHttpRequest()
    //   xhr.open('get', 'http://localhost:2333/mainApp', true);
    //   xhr.onreadystatechange = function () {
    //     if(xhr.readyState !== 4) {
    //       return
    //     }
    //     if(xhr.status >= 200 && xhr.status < 300) {
    //       console.log('main xhr')
    //     }
    //   }
    //   xhr.send(null)
    //   fetch('http://localhost:2333/fetch/mainApp').then((res)=> {});
    //   throw Error('mainApp: unhandledrejection error');
    // },5000);


    window.addEventListener('load',function(){
      console.log('触发了 onload main');
    });
  </script>
  <script>
      // window.addEventListener('unhandledrejection', event => {
      //   event.promise.catch((e)=>{
      //     if (e instanceof Error) {
      //       console.log('main app get error:', event); // 捕获后自定义处理
      //     }
      //   })
      // }, true);
      // window.addEventListener('error', event => {
      //   console.log('main app get error:', event); // 捕获后自定义处理
      // }, true);
  </script>
</head>
<body>
  <div id="VueApp">
    <div>
      <h1 align="center">Main project</h1>
      <div style="text-align: center;">
        <h3> main App content</h3>
        <a data-test="main-click-fetch" onclick="window.fetchM()">fetch</a>、
        <a data-test="main-click-normal-error" onclick="window.normalError()">error</a>、
        <a data-test="main-click-unhandledrejection-error" onclick="window.unhandledrejectionError()">unhandledrejectionError</a>、
        <a data-test="main-click-resource-error" onclick="window.resourceError()">resourceError</a>、
        <a data-test="main-click-dynamic-resource" onclick="window.DynamicResource()">DynamicResource</a>
      </div>
      <h2 align="center">
        <b id="vueBtn">vue</b>
        <b id="reactBtn">react</b>
        <b id="viteBtn">vite</b>
        <b id="esmBtn">esmApp</b>
      </h2>
    </div>
    <div id="submoduleByRouter"></div>
    <div id="submoduleByCunstom"></div>
  </div>
</body>
</html>
